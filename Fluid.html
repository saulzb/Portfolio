<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Saul Zidulka-Bejcek | Fluid</title>

<link href="https://fonts.googleapis.com/css2?family=Michroma&display=swap" rel="stylesheet">

<style>
/* ---------------- BASE ---------------- */
html, body {
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  background:#111;
  color:#eee;
  font-family:'Michroma', sans-serif;
  overflow-x:hidden;
  scroll-snap-type:y mandatory;
}

section {
  width:100%;
  height:100vh;
  position:relative;
  display:flex;
  flex-direction:column;
  scroll-snap-align:start;
  opacity:0;
  transition:opacity 0.9s ease;
}
section.visible { opacity:1; }

/* ---------------- HEADER / PRISM ---------------- */
.category-header {
  padding-top:110px;
  padding-left:40px;
}

.prism {
  position:relative;
  width:340px;
  height:110px;

  background:rgba(255,255,255,0.04);
  backdrop-filter: blur(6px);
  border-left:14px solid rgba(255,255,255,0.25);

  clip-path: polygon(
    0% 0%,
    94% 8%,
    100% 50%,
    94% 92%,
    0% 100%
  );

  box-shadow:
    inset 0 0 12px rgba(255,255,255,0.08),
    0 10px 30px rgba(0,0,0,0.6);

  overflow:hidden;
}

/* internal prism creases */
.prism .crease-horizontal {
  position:absolute;
  left:-10%;
  width:120%;
  height:2px;
  top:58%;
  background:linear-gradient(
    to right,
    rgba(255,255,255,0),
    rgba(255,255,255,0.4),
    rgba(255,255,255,0)
  );
  filter: blur(1.4px);
  opacity:0.5;
  mix-blend-mode: screen;
}

.prism .crease-triangle {
  position:absolute;
  right:14%;
  top:50%;
  width:70px;
  height:55px;
  transform:translateY(-50%) skewX(-6deg);
  background:linear-gradient(
    to left,
    rgba(255,255,255,0.35),
    rgba(255,255,255,0.08),
    rgba(255,255,255,0)
  );
  clip-path: polygon(100% 50%, 0% 0%, 0% 100%);
  filter: blur(1.8px);
  opacity:0.45;
  mix-blend-mode: screen;
}

/* ---------------- PRISM TEXT ---------------- */
.prism-text {
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:2.8rem;
  letter-spacing:0.15em;
  font-weight:400;
  color:white;
  filter: blur(0.4px);
}

/* chromatic layers */
.prism-text span {
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:none;
}

.prism-r { color:#ff4a4a; transform:translate(-3px, 0); opacity:0.85; }
.prism-o { color:#ffb347; transform:translate(-2px, 1px); opacity:0.7; }
.prism-y { color:#fff38a; transform:translate(-1px, -1px); opacity:0.6; }
.prism-g { color:#4aff88; transform:translate(1px, 0); opacity:0.7; }
.prism-c { color:#4ad6ff; transform:translate(2px, 1px); opacity:0.6; }
.prism-b { color:#6b6bff; transform:translate(3px, -1px); opacity:0.5; }

/* ---------------- PHOTO GRID ---------------- */
.category-row {
  display:flex;
  flex-wrap:wrap;
  gap:40px;
  margin-left:40px;
  margin-top:60px;
}

.category-row img {
  width:180px;
  height:180px;
  object-fit:cover;
  border-radius:6px;
  box-shadow:0 8px 20px rgba(0,0,0,0.45);
}

/* ---------------- LIGHTBOX ---------------- */
#lightboxOverlay {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.92);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}

#lightboxOverlay img {
  max-width:90vw;
  max-height:90vh;
  border-radius:4px;
}

.lightbox-arrow {
  position:fixed;
  top:50%;
  transform:translateY(-50%);
  font-size:48px;
  background:none;
  border:none;
  color:white;
  cursor:pointer;
}

#lightbox-prev { left:30px; }
#lightbox-next { right:30px; }
#lightbox-close {
  position:fixed;
  top:20px;
  right:30px;
  font-size:42px;
  background:none;
  border:none;
  color:white;
  cursor:pointer;
}

/* ---------------- BACK ---------------- */
.back-arrow {
  position:absolute;
  top:20px;
  left:30px;
  font-size:28px;
  cursor:pointer;
  color:white;
  transform:rotate(270deg);
}
</style>
</head>

<body>

<div class="back-arrow" onclick="window.location.href='index.html'">^</div>

<section class="visible">
  <div class="category-header">
    <div class="prism">
      <div class="crease-horizontal"></div>
      <div class="crease-triangle"></div>

      <div class="prism-text">
        FLUID
        <span class="prism-r">FLUID</span>
        <span class="prism-o">FLUID</span>
        <span class="prism-y">FLUID</span>
        <span class="prism-g">FLUID</span>
        <span class="prism-c">FLUID</span>
        <span class="prism-b">FLUID</span>
      </div>
    </div>
  </div>

  <div class="category-row" id="photoRow"></div>
</section>

<div id="lightboxOverlay">
  <button id="lightbox-close">×</button>
  <button id="lightbox-prev" class="lightbox-arrow">❮</button>
  <img id="lightbox-img">
  <button id="lightbox-next" class="lightbox-arrow">❯</button>
</div>

<script>
/* -------- OPTION B -------- */
const CATEGORY_FILTER = "TI";     // internal Contentful value
const DISPLAY_NAME = "Fluid";     // visual title only

const SPACE_ID = '5w319pzc4eiq';
const ACCESS_TOKEN = 'l_S14vNHPLKqDVzZDxMSlO3g3AhMne9mAvyC74dyetg';

async function fetchPhotos() {
  const res = await fetch(
    `https://cdn.contentful.com/spaces/${SPACE_ID}/entries?content_type=photo&access_token=${ACCESS_TOKEN}&include=1`
  );
  const data = await res.json();

  const assets = {};
  data.includes?.Asset?.forEach(a => assets[a.sys.id] = a.fields.file.url);

  const photos = data.items
    .map(i => ({
      photo:`https:${assets[i.fields.photo.sys.id]}`,
      category:i.fields.category
    }))
    .filter(p => p.category === CATEGORY_FILTER);

  const row = document.getElementById("photoRow");

  photos.forEach(p => {
    const img = document.createElement("img");
    img.src = p.photo;
    img.onclick = () => openLightbox(p.photo);
    row.appendChild(img);
  });
}

/* -------- LIGHTBOX -------- */
let currentImg = "";

function openLightbox(src){
  currentImg = src;
  document.getElementById("lightbox-img").src = src;
  document.getElementById("lightboxOverlay").style.display="flex";
}
document.getElementById("lightbox-close").onclick = () => {
  document.getElementById("lightboxOverlay").style.display="none";
};

fetchPhotos();
</script>

</body>
</html>
