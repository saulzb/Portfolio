<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Saul Zidulka-Bejcek</title>
<link href="https://fonts.googleapis.com/css2?family=Archivo+Expanded&display=swap" rel="stylesheet">
<style>
html, body {
  margin:0; padding:0;
  width:100%; height:100%;
  overflow:hidden;
  font-family:'Archivo Expanded', sans-serif;
  background:#111;
  color:#eee;
}

#container {
  position:relative;
  width:300vw;  /* left-center-right */
  height:200vh; /* center + down for photos */
  transform: translate(0,0); /* start on hero */
  transition: transform 0.8s ease;
}

section {
  position:absolute;
  width:100vw; height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  font-size:1rem;
  box-sizing:border-box;
  flex-direction:column;
}

/* Sections positions */

/* Default desktop hero image */
#hero {
  top:0; left:0;
  background: url('SAULZIDULKA-BEJCEK.png') center/cover no-repeat;
}

#music     { top:0; left:100vw; background:#222; }
#drawings  { top:0; left:-100vw; background:#444; }
#photos    { top:100vh; left:0; background:#333; display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); grid-auto-rows:minmax(150px,auto); grid-gap:10px; padding:20px; }

/* Photos: featured row spans full width */
.featured { grid-column: 1 / -1; height:200px; background:#666; border-radius:8px; display:flex; justify-content:center; align-items:center; font-weight:bold; font-size:1rem; }

/* Section boxes */
.photo-box { background:#555; border-radius:8px; display:flex; justify-content:center; align-items:center; color:#fff; font-size:0.9rem; }

h2 { font-size:0.8rem; margin-bottom:10px; }

/* Arrows */
.arrow {
  position:absolute;
  color:#fff;
  font-size:1.5rem;
  display:flex;
  flex-direction:column;
  align-items:center;
  cursor:pointer;
  user-select:none;
}
.arrow span { font-size:0.8rem; margin-top:5px; }

/* Hero arrows */
.arrow-right { top:50%; right:20px; transform:translateY(-50%);}
.arrow-left  { top:50%; left:20px; transform:translateY(-50%);}
.arrow-down  { bottom:20px; left:50%; transform:translateX(-50%);}

/* Branch arrows */
.arrow-back-left  { top:50%; left:20px; transform:translateY(-50%);} /* Music ‚Üí Hero */
.arrow-back-right { top:50%; right:20px; transform:translateY(-50%);} /* Drawings ‚Üí Hero */
.arrow-back-up    { top:20px; left:50%; transform:translateX(-50%);}   /* Photos ‚Üí Hero */

/* Mobile adjustments */
@media (max-width: 768px) {
  #hero {
    background: url('SAULZIDULKABEJCEKMOBILE.jpg') center/cover no-repeat;
    height: 100vh; /* ensure hero fills viewport */
  }

  /* Pull arrows closer and adjust font size */
  .arrow-right { right: 10px; font-size: 1.2rem; }
  .arrow-left  { left: 10px; font-size: 1.2rem; }

  /* Fix down arrow higher so it's always visible */
  .arrow-down {
    position: fixed;
    bottom: 60px; /* pull it up from bottom */
    left: 50%;
    transform: translateX(-50%);
    font-size: 1.2rem;
  }

  .arrow span { font-size: 0.7rem; }
}
</style>
</head>
<body>

<div id="container">
  <!-- Hero -->
  <section id="hero">
    <div class="arrow arrow-right" data-dir="right">‚Üí<span>Music</span></div>
    <div class="arrow arrow-left" data-dir="left">‚Üê<span>Drawings</span></div>
    <div class="arrow arrow-down" data-dir="down">‚Üì<span>Photos</span></div>
  </section>

  <!-- Music -->
  <section id="music">
    <h2>MUSIC</h2>
    <div class="arrow arrow-back-left" data-dir="hero">‚Üê<span>Back</span></div>
  </section>

  <!-- Drawings -->
  <section id="drawings">
    <h2>DRAWINGS</h2>
    <div class="arrow arrow-back-right" data-dir="hero">‚Üí<span>Back</span></div>
  </section>

  <!-- Photos -->
  <section id="photos">
    <h2>PHOTOS</h2>
    <div class="arrow arrow-back-up" data-dir="hero">‚Üë<span>Back</span></div>

    <!-- Featured -->
    <div class="featured">FEATURED</div>

    <!-- Photo sections -->
    <div class="photo-box">Double Exposures</div>
    <div class="photo-box">Wildlife</div>
    <div class="photo-box">Landscapes</div>
    <div class="photo-box">Colour</div>
    <div class="photo-box">Light</div>
    <div class="photo-box">Water</div>
  </section>
</div>

<script>
// üîë Contentful API Config ‚Äî replace with your own values
const SPACE_ID = "5w319pzc4eiq";
const ACCESS_TOKEN = "l_S14vNHPLKqDVzZDxMSlO3g3AhMne9mAvyC74dyetg";
const ENVIRONMENT = "master";

// Fetch container and track current section
const container = document.getElementById('container');
let currentSection = 'hero';

// üî• Fetch photos dynamically from Contentful
async function loadPhotos() {
  const url = `https://cdn.contentful.com/spaces/${SPACE_ID}/environments/${ENVIRONMENT}/entries?access_token=${ACCESS_TOKEN}&content_type=photo`;

  try {
    const res = await fetch(url);
    const data = await res.json();

    const assets = {};
    data.includes?.Asset?.forEach(asset => {
      assets[asset.sys.id] = asset.fields.file.url;
    });

    const photosContainer = document.querySelector('#photos');
    
    // Remove static boxes & keep H2 + back arrow + featured
    photosContainer.querySelectorAll('.photo-box').forEach(el => el.remove());

    data.items.forEach(item => {
      const title = item.fields.title;
      const thumbId = item.fields.DoubleExpoPhotoThumbnail?.sys?.id;
      const fullId = item.fields.DoubleExpoPhoto?.sys?.id;

      const thumbUrl = thumbId ? assets[thumbId] + '?w=400' : '';
      const fullUrl = fullId ? assets[fullId] + '?w=2000' : '';

      const div = document.createElement('div');
      div.className = 'photo-box';
      div.style.background = `url(${thumbUrl}) center/cover no-repeat`;
      div.title = title || "Photo";

      div.addEventListener('click', () => openModal(fullUrl, title));

      photosContainer.appendChild(div);
    });

  } catch (err) {
    console.error("‚ùå Error loading photos:", err);
  }
}

// üñº Modal viewer
function openModal(imageUrl, title) {
  let modal = document.getElementById('photo-modal');
  if (!modal) {
    modal = document.createElement('div');
    modal.id = 'photo-modal';
    modal.style.cssText = `
      position:fixed; inset:0; background:rgba(0,0,0,0.9);
      display:flex; align-items:center; justify-content:center;
      cursor:pointer; z-index:9999;
    `;
    modal.innerHTML = `
      <img id="modal-img" style="max-width:90vw; max-height:90vh; object-fit:contain;">
    `;
    document.body.appendChild(modal);

    modal.addEventListener('click', () => modal.style.display = 'none');
  }

  document.getElementById('modal-img').src = imageUrl;
  modal.style.display = 'flex';
}

// Navigation map
const sectionsMap = {
  hero:{x:0, y:0},       // Hero
  right:{x:-100, y:0},   // Music
  left:{x:100, y:0},     // Drawings
  down:{x:0, y:-100}     // Photos
};

// Snap navigation
function snapTo(section){
  const target = sectionsMap[section];
  if(target){
    container.style.transform = `translate(${target.x}vw, ${target.y}vh)`;
    currentSection = section;
  }
}

// Arrow clicks
document.querySelectorAll('.arrow').forEach(a=>{
  a.addEventListener('click', ()=>snapTo(a.dataset.dir));
});

// Scroll & keyboard (unchanged)
let scrollCooldown = false;
window.addEventListener('wheel', e=>{
  if(scrollCooldown) return;
  scrollCooldown = true;

  const absX = Math.abs(e.deltaX);
  const absY = Math.abs(e.deltaY);

  if(absX > absY){
    if(e.deltaX>0 && currentSection==='hero') snapTo('right');
    else if(e.deltaX<0 && currentSection==='hero') snapTo('left');
  } else {
    if(e.deltaY>0 && currentSection==='hero') snapTo('down');
    else if(e.deltaY<0 && currentSection==='down') snapTo('hero');
  }

  setTimeout(()=>scrollCooldown=false,800);
});

window.addEventListener('keydown', e=>{
  if(e.key==='ArrowRight' && currentSection==='hero') snapTo('right');
  if(e.key==='ArrowLeft' && currentSection==='hero') snapTo('left');
  if(e.key==='ArrowDown' && currentSection==='hero') snapTo('down');
  if(e.key==='ArrowUp') snapTo('hero');
});

window.addEventListener('scroll', e=>e.preventDefault());

// Load photos!!!
loadPhotos();
</script>


</body>
</html>
