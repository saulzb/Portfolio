<!-- PHOTOS COLLAGE PAGE -->
<section class="photos" id="photos">
  <h2>PHOTO COLLECTIONS</h2>
  <div class="galleries" id="galleries"></div>
</section>

<script>
const galleries = [
  { name: "Double Exposures", folder: "photos/double exposures", images: ["IMG_9495.JPG","IMG_9493.jpg","IMG_9495.JPG"], page: "doubleexposurecode.html" },
  { name: "Wildlife", folder: "photos/wildlife", images: ["IMG_8491_4.jpg","IMG_8512_1.jpg","RAW's Jul-Aug478 copy 2.jpg"], page: "wildlifecode.html" },
  { name: "Landscapes", folder: "photos/landscapes", images: ["DSCN3626.jpg","DSCN3600.jpg","DSCN3626.jpg"], page: "landscapescode.html" },
  { name: "Colour", folder: "photos/Colour", images: ["col1.jpg"], page: "Colourcode.html" },
  { name: "Light", folder: "photos/Light", images: ["IMG_1776.jpg","DSCN7048.JPG","DSCN8046.JPG"], page: "Lightcode.html" },
  { name: "Water", folder: "photos/Water", images: ["DSCN3961.jpg","DSCN5492.jpg","waterfromferry2.jpg"], page: "Watercode.html" }
];

const container = document.getElementById('galleries');
galleries.forEach(gallery=>{
  const link = document.createElement('a');
  link.href = `${gallery.folder}/${gallery.page}`;
  link.className = 'subgallery';

  const slideshow = document.createElement('div');
  slideshow.className = 'slideshow';
  gallery.images.forEach(imgFile=>{
    const img = document.createElement('img');
    img.src = `${gallery.folder}/${imgFile}`;
    slideshow.appendChild(img);
  });
  gallery.images.forEach(imgFile=>{
    const img = document.createElement('img');
    img.src = `${gallery.folder}/${imgFile}`;
    slideshow.appendChild(img);
  });

  const title = document.createElement('div');
  title.className = 'title';
  title.textContent = gallery.name;

  link.appendChild(slideshow);
  link.appendChild(title);
  container.appendChild(link);
});

/* ---- SMOOTH SCROLL-BASED RISE EFFECT ---- */
const photoSection = document.querySelector('.photos');
const subgalleries = document.querySelectorAll('.subgallery');

// give each image a random motion multiplier for variation
const motionRange = Array.from(subgalleries).map(()=>200 + Math.random()*300);

// current + target positions for smoothing
let targetProgress = 0;
let currentProgress = 0;

function updateGalleryMotion() {
  const rect = photoSection.getBoundingClientRect();
  const viewHeight = window.innerHeight;
  targetProgress = Math.min(Math.max(0, 1 - rect.top / viewHeight), 1);

  // smooth interpolation for fluid motion
  currentProgress += (targetProgress - currentProgress) * 0.1;

  subgalleries.forEach((g,i)=>{
    const rise = currentProgress * motionRange[i];
    g.style.transform = `translateY(${-rise}px) scale(1.05)`;
  });

  requestAnimationFrame(updateGalleryMotion);
}
updateGalleryMotion();
</script>

<style>
.photos{
  background:#111;
  color:white;
  padding:150px 0 300px;
  position:relative;
  overflow:visible;
}
.photos h2{
  font-size:2.2em;
  margin-bottom:80px;
  position:relative;
  z-index:5;
}
.galleries {
  position:relative;
  width:100%;
  max-width:1400px;
  margin:0 auto;
  height:1600px;
}

/* larger, closer tiles */
.subgallery {
  position:absolute;
  width:380px;
  height:260px;
  overflow:hidden;
  border-radius:18px;
  text-decoration:none;
  color:white;
  transform:translateY(0) scale(1.05);
  transition:opacity 0.3s linear;
  box-shadow:0 10px 25px rgba(0,0,0,0.5);
  opacity:0.95;
}

/* collage positioning */
.subgallery:nth-child(1){ top:100px; left:8%; z-index:4; transform:rotate(1deg); }
.subgallery:nth-child(2){ top:240px; left:34%; z-index:3; transform:rotate(-2deg); }
.subgallery:nth-child(3){ top:370px; left:62%; z-index:5; transform:rotate(1.5deg); }
.subgallery:nth-child(4){ top:600px; left:20%; z-index:4; transform:rotate(-2deg); }
.subgallery:nth-child(5){ top:760px; left:48%; z-index:3; transform:rotate(2deg); }
.subgallery:nth-child(6){ top:980px; left:70%; z-index:5; transform:rotate(-1deg); }

.slideshow {
  display:flex;
  transition:transform 1s ease;
  width:100%;
  height:100%;
}
.slideshow img {
  width:100%;
  height:100%;
  object-fit:cover;
  flex-shrink:0;
}
.title {
  position:absolute;
  bottom:0;
  left:0;
  width:100%;
  background:rgba(0,0,0,0.6);
  text-align:center;
  font-weight:bold;
  padding:10px 0;
  font-size:18px;
}
</style>
