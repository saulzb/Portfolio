<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Saul Zidulka-Bejcek</title>

<link href="https://fonts.googleapis.com/css2?family=Michroma&display=swap" rel="stylesheet">

<style>
/* ---------------- GLOBAL ---------------- */
html, body {
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  font-family:'Archivo Expanded', sans-serif;
  background:#111;
  color:#eee;
  scroll-behavior:smooth;
  overflow-x:hidden;
  scroll-snap-type:none;
}

/* Hide scrollbars */
body::-webkit-scrollbar { width:0; height:0; }
body { scrollbar-width:none; }

/* ---------------- SECTIONS ---------------- */
section {
  width:100%;
  height:100vh;
  box-sizing:border-box;
  position:relative;
  display:flex;
  flex-direction:column;
  scroll-snap-align:start;
  overflow:hidden;
  opacity:0;
  transition:opacity 0.9s ease;
}
section.visible { opacity:1; }

/* ---------------- HERO ---------------- */
#hero {
  background:url('SAULZIDULKA-BEJCEK.png') center/cover no-repeat;
}

.arrow {
  color:#fff;
  font-size:1.2rem;
  display:flex;
  flex-direction:column;
  align-items:center;
  cursor:pointer;
  user-select:none;
  position:absolute;
  z-index:10;
}
.arrow span { font-size:0.7rem; margin-top:5px; }
.arrow-down { bottom:40px; left:50%; transform:translateX(-50%); }

/* ---------------- HEADINGS ---------------- */
section h2 {
  margin:0;
  width:100%;
  text-align:center;
  color:white;
  font-family:'Michroma', sans-serif;
  font-size:1rem;
}
section h2::before,
section h2::after {
  content:"";
  display:inline-block;
  width:18%;
  height:1px;
  background:white;
  vertical-align:middle;
  margin:0 8px;
}

/* ---------------- FOLDER NAV ---------------- */
.folder-section {
  justify-content:center;
  align-items:center;
}

.folder-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(140px,1fr));
  gap:50px;
  max-width:900px;
  width:100%;
  padding:0 60px;
}

.folder {
  display:flex;
  flex-direction:column;
  align-items:center;
  cursor:pointer;
  user-select:none;
}

.folder-icon {
  width:88px;
  height:64px;
  background:linear-gradient(#f5d58a,#d9a441);
  border-radius:6px 6px 4px 4px;
  position:relative;
  box-shadow:0 6px 20px rgba(0,0,0,0.35);
  transition:transform 0.25s ease, box-shadow 0.25s ease;
}

.folder-icon::before {
  content:"";
  position:absolute;
  top:-10px;
  left:10px;
  width:36px;
  height:14px;
  background:#f5d58a;
  border-radius:4px 4px 0 0;
}

.folder:hover .folder-icon {
  transform:translateY(-6px);
  box-shadow:0 12px 30px rgba(0,0,0,0.45);
}

.folder span {
  margin-top:12px;
  font-size:0.7rem;
  letter-spacing:0.5px;
  text-align:center;
  opacity:0.9;
}

/* ---------------- PHOTO SECTIONS ---------------- */
.featured-section {
  padding-top:90px;
  background:radial-gradient(circle at top,#1a1a1a 0%,#000 70%);
}

.category-section {
  padding-top:90px;
  align-items:center;
}

.featured-row,
.category-row {
  height:38vh;
  display:flex;
  gap:10px;
  width:max-content;
}

.featured-row:first-of-type,
.category-row:first-of-type {
  margin-top:40px;
}

.featured-row img,
.category-row img {
  height:100%;
  width:auto;
  border-radius:6px;
  cursor:zoom-in;
}

/* Featured animation */
@keyframes scroll-right {
  from { transform:translateX(-50%); }
  to { transform:translateX(0); }
}

/* ---------------- LIGHTBOX ---------------- */
#lightboxOverlay {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.92);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}

#lightboxOverlay img {
  max-width:90vw;
  max-height:90vh;
  border-radius:4px;
}

.lightbox-arrow {
  position:fixed;
  top:50%;
  transform:translateY(-50%);
  font-size:48px;
  background:none;
  border:none;
  color:white;
  cursor:pointer;
}

#lightbox-prev { left:30px; }
#lightbox-next { right:30px; }

#lightbox-close {
  position:fixed;
  top:20px;
  right:30px;
  font-size:42px;
  background:none;
  border:none;
  color:white;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- HERO -->
<section id="hero" class="visible">
  <div class="arrow arrow-down">↓<span>Photos</span></div>
</section>

<!-- CONTENT -->
<div id="photoSections"></div>

<!-- LIGHTBOX -->
<div id="lightboxOverlay">
  <button id="lightbox-close">×</button>
  <button id="lightbox-prev" class="lightbox-arrow">❮</button>
  <img id="lightbox-img" src="">
  <button id="lightbox-next" class="lightbox-arrow">❯</button>
</div>

<script>
document.querySelector('.arrow-down').onclick = () =>
  document.querySelector('#photoSections section')
    ?.scrollIntoView({ behavior:'smooth' });

const SPACE_ID = '5w319pzc4eiq';
const ACCESS_TOKEN = 'l_S14vNHPLKqDVzZDxMSlO3g3AhMne9mAvyC74dyetg';

async function fetchPhotos(){
  const res = await fetch(
    `https://cdn.contentful.com/spaces/${SPACE_ID}/entries?content_type=photo&access_token=${ACCESS_TOKEN}&include=1`
  );
  const data = await res.json();

  const assets = {};
  data.includes?.Asset?.forEach(a =>
    assets[a.sys.id] = a.fields.file.url
  );

  const photos = data.items.map(i => ({
    title:i.fields.title,
    photo:`https:${assets[i.fields.photo.sys.id]}`,
    thumbnail:i.fields.thumbnail ? `https:${assets[i.fields.thumbnail.sys.id]}` : "",
    category:i.fields.category,
    featured:i.fields.featured
  }));

  displayPhotos(photos);
}

function displayPhotos(photos){
  const container = document.getElementById("photoSections");

  /* Folder section */
  const folderSection = document.createElement("section");
  folderSection.className = "folder-section";

  const folderGrid = document.createElement("div");
  folderGrid.className = "folder-grid";

  const categories = [
    "channelORANGE",
    "Dream State",
    "Raw PNW",
    "Neon Lights",
    "TI",
    "Quiet Night"
  ];

  categories.forEach(cat => {
    const folder = document.createElement("div");
    folder.className = "folder";
    folder.innerHTML = `<div class="folder-icon"></div><span>${cat}</span>`;
    folder.onclick = () => {
      [...document.querySelectorAll("section")]
        .find(s => s.querySelector("h2")?.textContent === cat)
        ?.scrollIntoView({ behavior:'smooth' });
    };
    folderGrid.appendChild(folder);
  });

  folderSection.appendChild(folderGrid);
  container.appendChild(folderSection);

  /* Photo sections */
  categories.forEach(cat => {
    const items = photos.filter(p => p.category === cat);
    if(!items.length) return;

    const section = document.createElement("section");
    section.className = "category-section";
    section.innerHTML = `<h2>${cat}</h2>`;

    const mid = Math.ceil(items.length/2);
    [items.slice(0,mid), items.slice(mid)].forEach(rowItems => {
      const row = document.createElement("div");
      row.className = "category-row";

      rowItems.forEach(p => {
        const img = document.createElement("img");
        img.src = p.thumbnail || p.photo;
        img.dataset.full = p.photo;
        row.appendChild(img);
      });

      section.appendChild(row);
    });

    container.appendChild(section);
  });

  requestAnimationFrame(() => {
    document.documentElement.style.scrollSnapType = "y mandatory";
    document.body.style.scrollSnapType = "y mandatory";
  });

  initFade();
  enableLightbox();
}

function initFade(){
  const obs = new IntersectionObserver(entries=>{
    entries.forEach(e=>{
      if(e.isIntersecting) e.target.classList.add("visible");
    });
  },{threshold:0.3});

  document.querySelectorAll("section").forEach(s=>obs.observe(s));
}

/* LIGHTBOX */
let lbImages=[], lbIndex=0;

function enableLightbox(){
  document.querySelectorAll(".category-row img").forEach(img=>{
    img.onclick=()=>{
      const rowImgs=[...img.parentElement.querySelectorAll("img")];
      lbImages=rowImgs.map(i=>i.dataset.full);
      lbIndex=rowImgs.indexOf(img);
      openLB();
    };
  });
}

function openLB(){
  document.body.style.overflow="hidden";
  document.getElementById("lightbox-img").src=lbImages[lbIndex];
  document.getElementById("lightboxOverlay").style.display="flex";
}
function closeLB(){
  document.body.style.overflow="";
  document.getElementById("lightboxOverlay").style.display="none";
}
function nextLB(){
  lbIndex=(lbIndex+1)%lbImages.length;
  document.getElementById("lightbox-img").src=lbImages[lbIndex];
}
function prevLB(){
  lbIndex=(lbIndex-1+lbImages.length)%lbImages.length;
  document.getElementById("lightbox-img").src=lbImages[lbIndex];
}

document.getElementById("lightbox-close").onclick=closeLB;
document.getElementById("lightbox-next").onclick=nextLB;
document.getElementById("lightbox-prev").onclick=prevLB;

window.addEventListener("keydown",e=>{
  if(document.getElementById("lightboxOverlay").style.display!=="flex")return;
  if(e.key==="ArrowRight")nextLB();
  if(e.key==="ArrowLeft")prevLB();
  if(e.key==="Escape")closeLB();
});

fetchPhotos();
</script>

</body>
</html>
