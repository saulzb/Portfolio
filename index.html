<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Saul Zidulka-Bejcek - Working Scroll</title>
<link href="https://fonts.googleapis.com/css2?family=Archivo+Expanded&display=swap" rel="stylesheet">
<style>
html, body {
  margin:0; padding:0;
  width:100%; height:100%;
  font-family:'Archivo Expanded', sans-serif;
  background:#111;
  color:#eee;
  scroll-behavior: smooth;
  scroll-snap-type: y mandatory;
  overflow-x: hidden;
}

/* Sections */
section {
  width:100%;
  height:100vh;
  scroll-snap-align: start;
  display:flex;
  flex-direction:column;
  box-sizing:border-box;
  padding:20px;
  position:relative;
}

/* HERO */
#hero { 
  background:url('SAULZIDULKA-BEJCEK.png') center/cover no-repeat; 
  background-size:cover;
}
.arrow {
  color:#fff;
  font-size:1.5rem;
  display:flex;
  flex-direction:column;
  align-items:center;
  cursor:pointer;
  user-select:none;
  z-index:10;
  position:absolute;
}
.arrow span{ font-size:0.8rem; margin-top:5px; }
.arrow-down{ bottom:40px; left:50%; transform:translateX(-50%);}
.arrow-back-up{ top:20px; left:50%; transform:translateX(-50%);}

/* Headings with lines */
section h2 {
  margin-bottom:20px; width:100%; color:white; font-weight:bold; text-align:center;
}
section h2::before,
section h2::after {
  content:"";
  display:inline-block;
  width:30%;
  height:1px;
  background:white;
  vertical-align:middle;
  margin:0 10px;
}

/* Featured carousel */
.featured-section {
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:10px;
}

.featured-row-wrapper {
  width:100%;
  height:50%;
  overflow:hidden;
}

.featured-row {
  display:flex;
  gap:10px;
  width:max-content;
}

.featured-row img {
  height:100%;
  width:auto;
  object-fit:cover;
  border-radius:6px;
}

/* Animation */
@keyframes scroll-right {
  0% { transform: translateX(-50%); }
  100% { transform: translateX(0); }
}

/* Category sections */
.category-section {
  height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding-top:60px;
  gap:10px;
}

.category-row {
  display:flex;
  width:100%;
  height:50%;
  justify-content:center;
  gap:10px;
}

.category-row img {
  height:100%;
  width:auto;
  object-fit:cover;
  border-radius:6px;
  display:block;
}

</style>
</head>
<body>

<section id="hero">
  <div class="arrow arrow-down">↓<span>Photos</span></div>
</section>

<section id="photos">
  <div class="arrow arrow-back-up">↑<span>Hero</span></div>
  <div id="categories"></div>
</section>

<script>
// Arrows
document.querySelector('.arrow-down').onclick = () => document.getElementById('photos').scrollIntoView({behavior:'smooth'});
document.querySelector('.arrow-back-up').onclick = () => document.getElementById('hero').scrollIntoView({behavior:'smooth'});

// Contentful
const SPACE_ID = '5w319pzc4eiq';
const ACCESS_TOKEN = 'l_S14vNHPLKqDVzZDxMSlO3g3AhMne9mAvyC74dyetg';
const ENVIRONMENT = 'master';

async function fetchPhotos(){
  const url=`https://cdn.contentful.com/spaces/${SPACE_ID}/environments/${ENVIRONMENT}/entries?content_type=photo&access_token=${ACCESS_TOKEN}&order=sys.createdAt&include=1`;
  const res=await fetch(url); if(!res.ok) return console.error('Contentful fetch failed',res.status);
  const data=await res.json();
  const assets={}; data.includes?.Asset?.forEach(a=>assets[a.sys.id]=a.fields.file.url);

  const photosData = data.items.map(item=>{
    const f=item.fields;
    return {title:f.title, photo:f.photo?`https:${assets[f.photo.sys.id]}`:'', thumbnail:f.thumbnail?`https:${assets[f.thumbnail.sys.id]}`:'', category:f.category||'', featured:f.featured||false};
  });

  displayPhotos(photosData);
}

function displayPhotos(photosData){
  const container=document.getElementById('categories');
  const categories=["Featured","Double Exposures","Wildlife","Travel","Water","Light"];

  categories.forEach(cat=>{
    const items=cat==="Featured"?photosData.filter(p=>p.featured):photosData.filter(p=>p.category===cat);
    if(!items.length) return;

    if(cat==="Featured"){
      const section=document.createElement('div'); section.className='featured-section';
      const h2=document.createElement('h2'); h2.textContent=cat; section.appendChild(h2);

      const mid=Math.ceil(items.length/2);
      [items.slice(0,mid), items.slice(mid)].forEach(rowItems=>{
        const wrapper=document.createElement('div'); wrapper.className='featured-row-wrapper';
        const row=document.createElement('div'); row.className='featured-row';
        [...rowItems, ...rowItems].forEach(p=>{
          const img=document.createElement('img'); img.src=p.thumbnail||p.photo; img.alt=p.title;
          row.appendChild(img);
        });
        row.style.animation=`scroll-right ${30+rowItems.length*5}s linear infinite`;
        wrapper.appendChild(row);
        section.appendChild(wrapper);
      });

      container.appendChild(section);
    } else {
      const section=document.createElement('div'); section.className='category-section';
      const h2=document.createElement('h2'); h2.textContent=cat; section.appendChild(h2);

      const mid=Math.ceil(items.length/2);
      [items.slice(0,mid), items.slice(mid)].forEach(rowItems=>{
        const row=document.createElement('div'); row.className='category-row';
        rowItems.forEach(p=>{
          const img=document.createElement('img'); img.src=p.thumbnail||p.photo; img.alt=p.title;
          row.appendChild(img);
        });
        section.appendChild(row);
      });

      container.appendChild(section);
    }
  });
}

fetchPhotos();
</script>

</body>
</html>
